- defaults:
    link:
      create: true
      relink: true
      force: true
    shell:
      stdout: true

- clean:
    ~/:
      force: true
    ~/.config:
      recursive: true

- create:
    - ~/.config/polybar/modules
    - ~/.config/polybar/scripts
    - ~/.config/{python,nvidia,git,zsh}
    - ~/.local/state/zsh

    # Make sure a cache file for zcompdumps exists
    - ~/.cache/zsh

- link:
  # Link contents to $HOME
    ~/.alias:
    ~/.zprofile:
    ~/.p10k.zsh:
    ~/.oh-my-zsh:
    ~/.Xdefaults:
    ~/.Xresources:
    ~/.xinitrc:
    ~/.gtkrc-2.0:
    ~/.vimrc:
    ~/.vim:
    ~/.pam_environment:

    ~/.wallpapers:
    ~/.scripts:
      glob: true
  # Link contents to $HOME/.config
    ~/.config/zsh:
      glob: true
      path: config/zsh/*
    ~/.config/autostart:
      glob: true
      path: config/autostart/*
      exclude: [ config/autostart/opt ]
    ~/.config/polybar:
      glob: true
      path: config/polybar/*
      exclude: [ config/polybar/modules, config/polybar/scripts ]
    ~/.config/polybar/modules:
      glob: true
      path: config/polybar/modules/*
    ~/.config/polybar/scripts:
      glob: true
      path: config/polybar/scripts/*
    ~/.config/rofi:
      glob: true
      path: config/rofi/*
    ~/.config/gtk-3.0:
      glob: true
      path: config/gtk-3.0/*
    ~/.config/deadd:
      glob: true
      path: config/deadd/*
    ~/.config/qBittorrent:
      glob: true
      path: config/qBittorrent/*

    ~/.config/oh-my-zsh: config/oh-my-zsh/
    ~/.config/ulauncher: config/ulauncher/
    ~/.config/kitty/kitty.conf: config/kitty/kitty.conf
    ~/.config/i3/config: config/i3/config
    ~/.config/picom.conf: config/picom.conf
    ~/.config/mimeapps.list: config/mimeapps.list
    ~/.config/htop/htoprc: config/htop/htoprc
    ~/.config/git/config: config/git/config
    ~/.config/python/pythonrc: config/python/pythonrc
  # Link contents to other paths in $HOME
    ~/.local/share/ulauncher/extensions:
      glob: true
      path: local/share/ulauncher/extensions/*
    ~/.local/share/applications:
      glob: true
      path: local/share/applications/*

    ~/.local/share/gnupg/gpg.conf: gnupg/gpg.conf

- shell:
    -
      command: yay --noconfirm
      description: Performing system upgrade using yay
      stdin: true
    -
      command: git config --global credential.helper /usr/lib/git-core/git-credential-libsecret
      description: Setting Git's credential helper to libsecret

